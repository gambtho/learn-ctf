<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="alternate" href="/index.xml" type="application/rss+xml" title="GreyHat CTF Educational Content">
		<link rel="icon" href="http://learn.greyhatctf.com/favicon.ico">
		<title>Linux Privilege Escalation - GreyHat CTF Educational Content</title>
		
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/highlight/default.css">
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/bootstrap.min.css">
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/theme.css">
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/bootie-docs.css">
		<link rel="stylesheet" href="http://learn.greyhatctf.com/css/site.css">
	</head>

<body role="document">

	
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="http://learn.greyhatctf.com/">GreyHat CTF Educational Content</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li ><a href="http://learn.greyhatctf.com/">Home</a></li>
			
			
				
					<li ><a href="/attack/">attack</a></li>
				
					<li ><a href="/defense/">defense</a></li>
				
			
				
				</ul>
				
			</div>
		</div>
	</nav>

<div class="container">


<div class="row">
	<div class="col-sm-8 doc-main">
		<main role="main">
			<article>
				<a id="title"></a>
				<h1 class="doc-entry-title">Linux Privilege Escalation</h1>
				<div class="doc-entry-meta">
					<span><time datetime="2017-07-27">July 27, 2017</time></span>
				</div>
				<section>
					

<h1 id="introduction">Introduction</h1>

<p>So you&rsquo;ve got a shell on your target but you&rsquo;re on with a limited user account. You need root privileges to get finish exploiting your target. The question then is, &ldquo;How do I get root?&rdquo;. This article will give you some techniques to escalate to root on Linux systems.</p>

<h1 id="enumerate-the-system">Enumerate the system</h1>

<p>The first thing you want to do is the gather information about the Linux host you are on.</p>

<p>Figure out who you are with these two commands.</p>

<pre><code>whoami
id
</code></pre>

<p>Try figuring out what OS version with the following commands</p>

<pre><code>uname -a
cat /etc/os-release
cat /proc/version
</code></pre>

<p>Once you enumerate the system do a search for vulnerabilities for the OS and version numbers. Check CVEs, Exploit Database, Google, GitHub, etc. If you find something that matches take time to examine the exploit and see if you can use it on the system you&rsquo;re attacking.</p>

<h1 id="sudo">sudo</h1>

<p>If you know the limited user password you can try to see if you can execute <code>sudo</code> commands. <code>sudo</code> is a Linux command that allows you execute commands as usually as root. If you can execute <code>sudo</code> as your limited user, you may be done if they gave the limited user all commands in the /etc/sudoers file.</p>

<h1 id="suid">SUID</h1>

<p>SUID is short for set user ID upon execution. They are set with special file permission flags. Normally when a user executes a program, the program executes with the same permissions as the user. However, if the SUID is set, then the program will run with the permissions of the owner of the file not the user which launched it.</p>

<p>To find all files with the sticky bit set use the following command.</p>

<pre><code>find / -perm -4000 2&gt;/dev/null
</code></pre>

<p>If you can find a program with the sticky bit set that can write to files or execute commands you can escalate privileges with that program.</p>

<h1 id="references">References</h1>

<ol>
<li><a href="https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/">Basic Linux Privilege Escalation</a></li>
<li><a href="https://www.lifewire.com/what-to-know-sudo-command-3576779">What You Should Know About the sudo Command</a></li>
<li><a href="http://www.linuxnix.com/suid-set-suid-linuxunix/">What is SUID and how to set SUID in Linux/Unix? - The Linux Juggernaut</a></li>
</ol>

				</section>
			</article>
		</main>
	</div> 

	

<div class="col-sm-3 col-sm-offset-1 doc-sidebar">
	<div id="sidebar">
	<div class="sidebar-module">
		<div class="sidebar-toc">
			<h4 class="sidebar-heading">Table of Contents</h4>
			<ul>
				<li><strong><a href="#title">Linux Privilege Escalation</a></strong></li>
			</ul>
			<nav id="TableOfContents">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#enumerate-the-system">Enumerate the system</a></li>
<li><a href="#sudo">sudo</a></li>
<li><a href="#suid">SUID</a></li>
<li><a href="#references">References</a></li>
</ul>
</nav>
		</div>
	</div>
	<div class="sidebar-module">
		<h4 class="sidebar-heading">Pages in Categories</h4>
		<ul class="sidebar-category-list">
		
			<li>
				<a href="http://learn.greyhatctf.com/categories/attack">
					<span class="doc-list-category">Attack</span>
				</a>
				<ul>
					<li><a href="/attack/attack_lifecycle/">The Cyber Attack Lifecycle #Draft</a>
					</li>
				
				</ul>
			</li>
		
			<li>
				<a href="http://learn.greyhatctf.com/categories/defense">
					<span class="doc-list-category">Defense</span>
				</a>
				<ul>
					<li><a href="/defense/introduction/">Threat Detection Introduction</a>
					</li>
				
				</ul>
			</li>
		
		</ul>
	</div>
	<div class="sidebar-module">
		<h4 class="sidebar-heading">Tags</h4>
		<div class="tag-box">
		
			<a class="tag-item" href="http://learn.greyhatctf.com/tags/logs">logs</a>
		
			<a class="tag-item" href="http://learn.greyhatctf.com/tags/reference">reference</a>
		
		</div>
	</div>
	</div>
</div>

</div> 



<footer class="doc-footer">
  <p>&copy; 2017 GreyHat CTF Educational Content</p>
  <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
</footer>

